<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <script src="./highlight.js"></script>
    <script src="./marked.js"></script>
    <script src="./components/index.js" type="module"></script>
    <link rel="stylesheet" href="./styles.css"></link>
    <title>Customel</title>
  </head>
  <body>
    <customel-layout>
      <aside name="sidebar">
        <customel-toc></customel-toc>
      </aside>
      <div class="markdown-body">
        <customel-container left="true" id="content"></customel-container>
      </div>
    </customel-sidebar>

    <script>


      marked.setOptions({ highlight: function(code, lang) {
          return lang ? hljs.highlight(lang, code).value : code;
        }
      });

      async function fetchContent(url) {
        try {
          const res = await fetch(url);
          const text = await res.text();
          const content = document.querySelector('#content');
          content.innerHTML = marked(text);
          document.querySelector('customel-toc').node = document.querySelector('#content');

        } catch (e) {
          console.log('error', e)
        }
      }

      fetchContent(window.origin + '/README.md');


    </script>

  </body>
</html>
