<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>Document</title>
    <script type="module">
      import {
        html,
        prop,
        value,
        onMounted,
        onUnmounted,
        Component
      } from "../dist/index.es.js";

      function MyElement() {
        const todos = value(["C", "B", "A", "K", "L"]);
        const input = value("");
        const checked = value(false);

        const sortedTodos = () => {
          return todos.value.concat().sort();
        };

        const addTodo = () => {
          todos.value.push(input.value);
          input.value = "";
        };

        const removeTodo = i => todos.value.splice(i, 1);
        const onInput = e => (input.value = e.target.value);
        const onChange = e => (checked.value = e.target.checked);

        return html`
          <input value="${input.value}" oninput="${onInput}" type="text" />
          <input
            checked="${checked.value}"
            onchange="${onChange}"
            type="checkbox"
          />
          <button onclick="${addTodo}">Klikk</button>
          <ul>
            ${sortedTodos().map(
              (todo, i) => html`
                <li>
                  <h3>${todo}</h3>
                  <button onclick="${() => removeTodo(i)}">Remove</button>
                </li>
              `
            )}
          </ul>
        `;
      }

      customElements.define("my-element", new Component(MyElement));
    </script>
  </head>
  <body>
    <my-element></my-element>
  </body>
</html>
