var customel=function(){"use strict";const t={bindEvent(t,e,s){const i=e.slice(2).toLowerCase();t.__handlers=t.__handlers||{},!!t.__handlers[i]&&t.__handlers[i].toString()===s.toString()||(t.removeEventListener(i,t.__handlers[i]),t.__handlers[i]=s,t.addEventListener(i,t.__handlers[i])),t.removeAttribute(e)},attrs(t){if(!t.attributes)return{};const e={};for(let s=0;s<t.attributes.length;s++){const i=t.attributes[s];e[i.name]=i.value}return e},nodesByKey(t,e){const s={};for(let i=0;i<t.childNodes.length;i++){const n=e(t.childNodes[i]);n&&(s[n]=t.childNodes[i])}return s},merge(t,e,s,i){if((s=s||{}).key=s.key||(t=>t.id),"string"==typeof e){const s=e;(e=document.createElement(t.tagName)).innerHTML=s}const n={old:this.nodesByKey(t,s.key),new:this.nodesByKey(e,s.key)};let r;for(r=0;e.firstChild;r++){const o=e.removeChild(e.firstChild);if(r>=t.childNodes.length){const e=this.attrs(o);for(const t in e)t.startsWith("on")&&this.bindEvent(o,t,i[e[t]]);t.appendChild(o);continue}let h=t.childNodes[r];const a=s.key(o);if(s.key(h)||a){const e=a&&a in n.old?n.old[a]:o;e!==h&&(h=t.insertBefore(e,h))}if(h.nodeType!==o.nodeType||h.tagName!==o.tagName){const e=this.attrs(o);for(const t in e)t.startsWith("on")&&this.bindEvent(o,t,i[e[t]]);t.replaceChild(o,h)}else if([Node.TEXT_NODE,Node.COMMENT_NODE].indexOf(h.nodeType)>=0){if(h.textContent===o.textContent)continue;h.textContent=o.textContent}else if(h!==o){const t={base:this.attrs(h),new:this.attrs(o)};for(const e in t.base)e in t.new||h.removeAttribute(e);for(const e in t.new)e in t.base&&t.base[e]===t.new[e]||(e.startsWith("on")?this.bindEvent(h,e,i[t.new[e]]):h.setAttribute(e,t.new[e]));this.merge(h,o,{},i)}}for(;t.childNodes.length>r;)t.removeChild(t.lastChild)}};function e(t){return Object.prototype.toString.call(t).slice(8,-1).toLowerCase()}const s=/[^a-zA-Z0-9:]+/g;function i(t){return t.replace(/([a-z])([A-Z])/g,t=>t[0]+"-"+t[1]).replace(s,"-").toLowerCase()}function n(t,e){return"boolean"===e?"true"===t||""===t||!0===t:"number"===e?parseInt(t):"string"===e?String(t):t}function r(t,...s){return t.reduce((t,i,n)=>{if(!t.string)return{events:t.events,string:i};const r=s[n-1];if(null===r||!1===r||""===r||void 0===r)return{events:t.events,string:t.string};if("function"===e(r)){const e=Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15);return{events:{...t.events,[e]:r},string:t.string+e+i}}if("array"===e(r)){const e=r.reduce((t,e)=>({...t,...e.events}),{}),s=r.reduce((t,e)=>t+e.string,"");return{events:{...t.events,...e},string:t.string+s+i}}return"object"===e(r)?{events:{...t.events,...r.events},string:t.string+r.string+i}:{events:{...t.events},string:t.string+s[n-1]+i}},{events:{},string:null})}return function({mode:o="open",props:h={},state:a={},actions:d={},mounted:c=(()=>{}),updated:p=(()=>{}),propChanged:l=(()=>{}),stateChanged:u=(()=>{}),template:b=(()=>{}),styles:g=(()=>"")}){return class extends HTMLElement{constructor(){super(),this.props={...h},this._propTypes={},this._initProps=this._initProps.bind(this),this.propChanged=l.bind(this),this._initProps(),this.state={...a},this.setState=this.setState.bind(this),this.stateChanged=u.bind(this),this._styles=g.bind(this),this.actions={...d},this._initActions=this._initActions.bind(this),this._initActions(),this._shadowRoot=this.attachShadow({mode:o}),this._html=r.bind(this),this._template=b.bind(this),this.render=this.render.bind(this),this.mounted=c.bind(this),this.updated=p.bind(this),this.emit=this.emit.bind(this)}_initProps(){Object.keys(this.props).map(t=>{const s=e(this.props[t]);this._propTypes[t]=s;const i=this.getAttribute(t)||this.hasAttribute(t)||this.props[t];this.props[t]=n(i,s)})}_initActions(){Object.keys(this.actions).map(t=>{this.actions[t]=d[t].bind(this)})}_upradeProperty(t){let e=this[t];delete this[t],this[t]=e}static get observedAttributes(){return Object.keys(h).forEach(t=>{Object.defineProperty(this.prototype,t,{configurable:!0,get(){return this.props[t]},set(e){const s=this.props[t],n=this._propTypes[t];if(e!==s&&(this.props[t]=e,this.render(),this.propChanged(t,s,e)),"object"!=typeof e){const s=i(t);!1===e?this.removeAttribute(s):!0===e?this.setAttribute(s,""):"string"===n&&""===e?this.removeAttribute(s):this.setAttribute(s,e)}}})}),Object.keys(h).map(t=>i(t))}connectedCallback(){Object.keys(this.props).forEach(t=>{this._upradeProperty(t)}),this.render(),this.mounted()}attributeChangedCallback(t,e,i){const r=t.replace(/_/g,(t,e)=>0===e?t:"-").replace(/(?:^\w|[A-Z]|\b\w)/g,(t,e)=>0===e?t.toLowerCase():t.toUpperCase()).replace(s,""),o=this.props[r],h=n(i||this.hasAttribute(t),this._propTypes[r]);o!==h&&(this[r]=h)}render(){const e=this._template(this._html),s="string"==typeof e?e:e.string,i=this._html`<style>${this._styles()}</style>${s}`;t.merge(this._shadowRoot,i.string,{},e.events),this.updated()}setState(t){const e=this.state;this.state={...e,...t},this.stateChanged({...e},{...this.state}),this.render()}emit(t,e){this.dispatchEvent(new CustomEvent(t,{detail:e,bubbles:!1}))}}}}();